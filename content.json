{"meta":{"title":"é»‘ç‰›éšç¬”","subtitle":"","description":"","author":"é»‘ç‰›","url":"https://chenlingmin.github.io","root":"/"},"pages":[{"title":"å‹æƒ…é“¾æ¥","date":"2021-12-08T03:27:01.000Z","updated":"2021-12-08T03:27:25.718Z","comments":true,"path":"link/index.html","permalink":"https://chenlingmin.github.io/link/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2021-12-08T03:29:54.000Z","updated":"2021-12-08T03:30:18.018Z","comments":true,"path":"tags/index.html","permalink":"https://chenlingmin.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"è¡¨æ ¼é©±åŠ¨æ³•ä¼˜åŒ–","slug":"è¡¨æ ¼é©±åŠ¨æ³•ä¸NavigableMapçš„ä½¿ç”¨","date":"2021-12-08T02:44:55.000Z","updated":"2021-12-08T05:38:55.090Z","comments":true,"path":"2021/12/08/è¡¨æ ¼é©±åŠ¨æ³•ä¸NavigableMapçš„ä½¿ç”¨/","link":"","permalink":"https://chenlingmin.github.io/2021/12/08/%E8%A1%A8%E6%A0%BC%E9%A9%B1%E5%8A%A8%E6%B3%95%E4%B8%8ENavigableMap%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"","text":"è¡¨æ ¼é©±åŠ¨çš„å¸¸è§å½¢å¼å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šç”¨åˆ°å„ç§åˆ†æ”¯é€»è¾‘ï¼Œif else switch case éœ¸å±ï¼Œå¦‚ä¸‹ä»£ç ã€‚ 1234567if (state == 1) &#123; process1();&#125; else if (state == 2)&#123; process2();&#125; else &#123; processByDefault();&#125; åœ¨ç¼–ç¨‹çš„ä¸–ç•Œï¼Œåªæœ‰ä¸¤ç§å…ƒç´ ç»„æˆï¼Œé‚£å°±æ˜¯æ•°æ®ä¸ä»£ç ã€‚åƒä¸Šé¢çš„ä»£ç ï¼Œä¼°è®¡å¤§å®¶ä¸€çœ‹ï¼Œé™¤äº† state çš„ &#123;1, 2...&#125; æ˜¯æ•°æ®çš„æ¦‚å¿µï¼Œå…¶ä»–çš„è¯¸å¦‚ if else process1() process2() processByDefault() è‡ªç„¶ä¹Ÿå°±åŒ–ä¸ºä»£ç çš„éƒ¨åˆ†ã€‚ è€Œä»£ç å’Œæ•°æ®çš„åˆ’åˆ†ï¼Œä¸æ˜¯æ³¾æ¸­åˆ†æ˜çš„ï¼Œä½ å†™çš„ä»»ä½•ä»£ç ï¼Œåœ¨ç¼–è¯‘å™¨çš„è§’åº¦ï¼Œåˆæˆä¸ºäº†æ•°æ®ã€‚ å› æ­¤å¦‚æœæˆ‘ä»¬æ¢ä¸€ä¸ªè§’åº¦æ€è€ƒä¸Šè¿°ä»£ç ï¼Œé‡æ–°å®šä¹‰æ•°æ®ï¼Œå¯èƒ½å°±ä¼šå¾—åˆ°å¦ä¸€ä¸ªç»“æœã€‚ å¦‚ä¸‹ 1234567Map&lt;Integer, Runnable&gt; stateProcessMap = new HashMap&lt;&gt;&#123;&#123; put(1, this::process1); put(2, this::process1);&#125;&#125;;stateProcessMap.getOrDefault(state, this::processByDefault).run(); æå‡ºäº† stateProcessMap çš„æ•°æ®ï¼Œè¡¨ç¤º state ä¸ä¸šåŠ¡çš„æ˜ å°„å…³ç³»ã€‚ é‚£æ•°æ®çš„æå‡ºæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œä»¥ååŒç±»ç»“æ„çš„ä¿®æ”¹ï¼Œä½ ä¸å†æ˜¯æ”¹ if else ä»£ç çš„éƒ¨åˆ†ï¼Œè€Œåªéœ€è¦ä¿®æ”¹ stateProcessMap æ•°æ®éƒ¨åˆ†ã€‚ å¯ä¸è¦å°çœ‹è¿™ä¸€ç‚¹ç‚¹å°æ”¹åŠ¨ï¼Œè™½ç„¶ç°åœ¨ stateProcessMap æ¦‚å¿µæ˜¯æ•°æ®ï¼Œè€Œè½½ä½“è¿˜æ˜¯åœ¨ä»£ç ä¸Šï¼Œä½†å¯æ˜¯åŠ¨é™åˆ†ç¦»çš„åŸºç¡€ã€‚ é˜¶æ¢¯å¼çš„è¡¨æ ¼é©±åŠ¨åœ¨å¸¸è§å½¢å¼ä¸­ï¼Œkey ä¸€èˆ¬ä¸ºé™æ€çš„æ•°æ®ï¼Œèƒ½å¤Ÿç”¨åœ¨ if (x == xx) ç­‰äºçš„éƒ¨åˆ†ï¼Œè€Œå¦‚æœé¢å¯¹å¦‚ä¸‹çš„ä»£ç ï¼Œå¯èƒ½åˆå¾—ç»§ç»­æ€è€ƒäº†ã€‚ 123456789if (distance &gt; 3) &#123; return this.avg3(); &#125; else if (distance &gt; 2) &#123; return this.avg2();&#125; else if (distance &gt; 1) &#123; return this.avg1();&#125; else &#123; return this.avg(); &#125; ä¸Šè¿°é€»è¾‘ï¼Œç”±äºæ˜¯é˜¶æ¢¯å¼çš„é€»è¾‘ï¼Œå¿…é¡»å…ˆä»æœ€å¤§çš„æ•°å¼€å§‹åˆ¤æ–­ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨å¸¸è§„çš„å½¢å¼ï¼Œä½ å¯ä»¥è¿™æ ·é‡æ–°å®šä¹‰æ•°æ®ï¼Œå¦‚ä¸‹ï¼š 12345678910int[] distanceLevels = &#123;3, 2, 1&#125;;Supplier[] avgLevels = &#123;this::avg3, this.avg2, this.avg1&#125;;for (int i = 0; i &lt; distanceLevels.length; i++) &#123; if (distanceLevels[i] &gt; state) &#123; return avgLevels[i].get(); &#125; return this.avg(); &#125; ä¸Šè¿°å½¢å¼ï¼Œæˆ‘ä»¬ç§°ä¸ºé˜¶æ¢¯è®¿é—®è¡¨ï¼Œè™½ç„¶ä¸å¦‚å¸¸è§å½¢å¼ç®€ä»‹ï¼Œä½†ä¹Ÿè¾¾åˆ°äº†åˆ†ç¦»äº†æ•°æ®ä¸ä»£ç çš„æ•ˆæœï¼Œå–å¾—äº†æ›´é«˜çš„æ‰©å±•æ€§ã€‚ NavigableMap åœ¨è¡¨æ ¼é©±åŠ¨ä¸­é˜¶æ¢¯é€»è¾‘çš„ä½¿ç”¨åœ¨ä¸Šè¿°çš„é˜¶æ¢¯è®¿é—®è¡¨ä¸­ï¼Œä¹Ÿå­˜åœ¨å‡ ä¸ªé—®é¢˜: å¤§é‡æ•°æ®æ—¶ï¼Œå­˜åœ¨çº¿æ€§è®¿é—®ï¼ŒæŸ¥æ‰¾æˆæœ¬è¾ƒå¤§ éœ€è¦æ‰‹å·¥ä¿è¯ key -&gt; value çš„æ˜ å°„ åº”è¿è€Œç”Ÿçš„ï¼Œæˆ‘ä»¬æƒ³åˆ°å¯ä»¥ä½¿ç”¨ TreeMapï¼Œå³æ˜¯ key -&gt; value çš„ç»“æ„ï¼Œåˆæ˜¯æœ‰åºçš„ç»“æ„ã€‚ 1234567NavigableMap&lt;Integer, Supplier&gt; distanceAvgMap = new TreeMap&lt;&gt; &#123;&#123; put(1, this::avg1); put(2, this::avg2); put(3, this::avg3);&#125;&#125;;distanceAvgMap.lowerEntry(distance).getValue().get(); NavigableMap æ˜¯ä¸€ä¸ªå¯å¯¼èˆªçš„ Map æ¥å£, ä¸Šå±‚æ¥å£ä¸º SortedMapï¼Œé¡¶å±‚æ¥å£ä¸º Mapï¼ŒTreeMap æ˜¯ NavigableMap çš„å…·ä½“å®ç°ï¼Œæ˜¯ä¸€ä¸ªå¹³è¡¡äºŒå‰æ ‘çš„å®ç°ï¼Œä¸»æµçš„å®ç°æ˜¯å…«è‚¡æ–‡ä¸­çš„çº¢é»‘æ ‘ï¼Œå…¶ä¸­ lowerEntry(key) æ˜¯ä»¥äºŒåˆ†æŸ¥æ‰¾æ³•æŸ¥æ‰¾ä¸€ä¸ªå°äºæˆ–ç­‰äº key çš„ Entryã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬é˜¶æ¢¯å¼çš„é€»è¾‘ï¼Œå°±ç”¨ä¸€ä¸ªäºŒå‰æ ‘çš„ Map æ•°æ®ç»“æ„è¡¨ç¤ºæˆäº†æ•°æ®å½¢å¼ï¼Œä¸é˜¶æ¢¯è®¿é—®è¡¨ç›¸æ¯”ï¼Œæ›´ä¼˜é›…çš„è¾¾åˆ°äº†æ•°æ®ä¸ä»£ç åˆ†ç¦»çš„æ•ˆæœã€‚","categories":[],"tags":[{"name":"ç¼–ç æŠ€å·§","slug":"ç¼–ç æŠ€å·§","permalink":"https://chenlingmin.github.io/tags/%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/"}]},{"title":"Mybatis PageHelper æä¾›ä¸ spring-data ä¸€è‡´çš„åˆ†é¡µ API çš„å®è·µ","slug":"MybatisPageHelperæä¾›ä¸spring-dataä¸€è‡´çš„åˆ†é¡µAPIçš„å®è·µ","date":"2021-12-07T08:44:55.000Z","updated":"2021-12-08T03:25:59.050Z","comments":true,"path":"2021/12/07/MybatisPageHelperæä¾›ä¸spring-dataä¸€è‡´çš„åˆ†é¡µAPIçš„å®è·µ/","link":"","permalink":"https://chenlingmin.github.io/2021/12/07/MybatisPageHelper%E6%8F%90%E4%BE%9B%E4%B8%8Espring-data%E4%B8%80%E8%87%B4%E7%9A%84%E5%88%86%E9%A1%B5API%E7%9A%84%E5%AE%9E%E8%B7%B5/","excerpt":"","text":"Mybatis PageHelper æä¾›ä¸ spring-data ä¸€è‡´çš„åˆ†é¡µ API çš„å®è·µspring-data é¡¹ç›®ä¸­ï¼Œä¸ºæ•°æ®è®¿é—®æä¾›ç†Ÿæ‚‰ä¸”ä¸€è‡´çš„åŸºäº Spring çš„ç¼–ç¨‹æ¨¡å‹ï¼ŒåŒæ—¶ä»ä¿ç•™åº•å±‚æ•°æ®å­˜å‚¨çš„ç‰¹æ®Šç‰¹æ€§ï¼Œå…¶ä¸­ spring-data-jpa æ›´å®¹æ˜“å®è·µé¢†åŸŸé©±åŠ¨è®¾è®¡çš„ç‰¹æ€§ï¼Œå°¤å…¶æ”¶å¼€å‘è€…æ¬¢è¿ã€‚ ç„¶è€Œï¼Œé¢å¯¹ä¸€äº›æ¯”è¾ƒå¤æ‚çš„è¿è¡¨æŸ¥è¯¢ï¼Œå¦‚æœä¸¥æ ¼æŒ‰ç…§ CQRS çš„æ–¹æ¡ˆå®è·µï¼Œæ–¹æ¡ˆåˆä¼šæ˜¾å¾—æ¯”è¾ƒç¬¨é‡ã€‚åœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹ï¼Œ jpa ä¸ Mybatis çš„æ··åˆæ–¹æ¡ˆï¼Œåˆ†åˆ«å‘æŒ¥äº† jpa æ¨¡å‹çš„é•¿å¤„ ä¸ Mybatis åŠ¨æ€ SQL çš„é•¿å¤„ï¼Œè€Œè§„é¿äº† jpaåŠ¨æ€ SQL çš„çŸ­å¤„ä¸ Mybatis æ¨¡å‹çš„çŸ­å¤„ï¼Œå—åˆ°äº†å¹¿æ³›çš„ä¸€è‡´è®¤å¯ã€‚ æ–¹æ¡ˆç‰¹ç‚¹è¡¨ç°å¦‚ä¸‹ï¼š Jpa åšæ¨¡å‹çš„æŒä¹…æ“ä½œï¼Œä»¥åŠå•è¡¨æŸ¥è¯¢ã€‚ Mybatis åªåšè§†å›¾çš„å¤æ‚æŸ¥è¯¢ï¼Œå¹¶ä¸”ä¸å‚ä¸ä¸šåŠ¡é€»è¾‘çš„è¿ç®—ï¼ˆå³ä»£æ›¿ CQRS æŸ¥è¯¢å±‚çš„é€»è¾‘ï¼‰ã€‚ Mybatis PageHelper çš„å®è·µåœ¨ spring-data çš„ä¸­ï¼Œæä¾›äº†åˆ†é¡µæ’åºçš„ API åŸºæœ¬éƒ½æ˜¯å¦‚ä¸‹å½¢çŠ¶ï¼š 12Iterable&lt;T&gt; findAll(Predicate predicate, Sort sort);Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable); ä¸ºäº†è®© Mybatis æä¾›ä¸ spring-data ä¸€è‡´çš„ APIï¼Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨å¦‚ä¸‹ï¼š 123456@Transactional(readOnly = true)public Page&lt;OrderQueryMapper.OrderView&gt;findAll(OrderQueryMapper.OrderParam orderParam, Pageable pageable)&#123; return orderQueryMapper.findAll(orderParam, pageable);&#125; äºæ˜¯ï¼Œæˆ‘ä»¬çš„ Mapper æŸ¥è¯¢å±‚åˆ©ç”¨ page-helper åšäº†å¦‚ä¸‹è®¾è®¡ï¼š 12345678910111213141516171819@Mapperpublic interface OrderQueryMapper &#123; List&lt;OrderView&gt; findAll(OrderParam orderParam); default List&lt;OrderView&gt; findAll(OrderParam param, Sort sort) &#123; return QueryHelper.sort(this::findAll, param, sort); &#125; default Page&lt;OrderView&gt; findAll(OrderParam param, Pageable pageable) &#123; return QueryHelper.page(this::findAll, param, pageable); &#125; @Data class OrderParam &#123; private String orderId; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152public abstract class QueryHelper &#123; /** * @param mapperMethod æŸ¥è¯¢æ–¹æ³• * @param param æŸ¥è¯¢å‚æ•° * @param pageable åˆ†é¡µå‚æ•° * @param &lt;RESULT&gt; ç»“æœç±»å‹ * @param &lt;PARAM&gt; å‚æ•°ç±»å‹ * @return */ public static &lt;RESULT, PARAM&gt; Page&lt;RESULT&gt; page(Function&lt;PARAM, List&lt;RESULT&gt;&gt; mapperMethod, PARAM param, Pageable pageable) &#123; String orderBy = Optional.of(pageable.getSort()) .map(Iterable::spliterator) .map(i -&gt; StreamSupport.stream(i, false)) .orElseGet(Stream::empty) .map(a -&gt; a.getProperty() + &quot; &quot; + a.getDirection().name()) .collect(Collectors.joining(&quot;,&quot;)); // æ³¨æ„ pageHelper çš„ pageNum ä» 1 å¼€å§‹ PageHelper.startPage(pageable.getPageNumber() + 1, pageable.getPageSize(), orderBy); try &#123; com.github.pagehelper.Page&lt;RESULT&gt; result = (com.github.pagehelper.Page&lt;RESULT&gt;) mapperMethod.apply(param); return new PageImpl&lt;&gt;(result.getResult(), pageable, result.getTotal()); &#125; finally &#123; PageHelper.clearPage(); &#125; &#125; /** * @param mapperMethod æŸ¥è¯¢æ–¹æ³• * @param param æŸ¥è¯¢å‚æ•° * @param sort æ’åºå‚æ•° * @param &lt;RESULT&gt; ç»“æœç±»å‹ * @param &lt;PARAM&gt; å‚æ•°ç±»å‹ * @return */ public static &lt;RESULT, PARAM&gt; List&lt;RESULT&gt; sort(Function&lt;PARAM, List&lt;RESULT&gt;&gt; mapperMethod, PARAM param, Sort sort) &#123; String orderBy = Optional.ofNullable(sort) .map(Iterable::spliterator) .map(i -&gt; StreamSupport.stream(i, false)) .orElseGet(Stream::empty) .map(a -&gt; a.getProperty() + &quot; &quot; + a.getDirection().name()) .collect(Collectors.joining(&quot;,&quot;)); PageHelper.orderBy(orderBy); try &#123; return mapperMethod.apply(param); &#125; finally &#123; PageHelper.clearPage(); &#125; &#125;&#125;","categories":[],"tags":[{"name":"ç¼–ç æŠ€å·§","slug":"ç¼–ç æŠ€å·§","permalink":"https://chenlingmin.github.io/tags/%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/"}]},{"title":"å…³äºæšä¸¾çš„é«˜çº§ç”¨æ³•","slug":"æšä¸¾çš„é«˜çº§ç”¨æ³•","date":"2021-12-07T08:34:55.000Z","updated":"2021-12-08T05:38:37.107Z","comments":true,"path":"2021/12/07/æšä¸¾çš„é«˜çº§ç”¨æ³•/","link":"","permalink":"https://chenlingmin.github.io/2021/12/07/%E6%9E%9A%E4%B8%BE%E7%9A%84%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/","excerpt":"","text":"å…³äºæšä¸¾çš„é«˜çº§ç”¨æ³•æšä¸¾å›é¡¾Java ä¸­çš„æšä¸¾ï¼Œå¤§å®¶éƒ½ä¸ä¼šé™Œç”Ÿï¼Œä»–çš„ä¸€äº›ç‰¹ç‚¹ï¼Œèƒ½è®©æˆ‘ä»¬å¾—å¿ƒåº”æ‰‹çš„å®ç°ä¸šåŠ¡é€»è¾‘ã€‚ å®ƒçš„å•ä¾‹ç‰¹æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ == æ¥åšé€»è¾‘æ ¡éªŒï¼Œå¦‚: 1234567public enum Gender &#123; MAN, WOMAN;&#125;if (Gender.MAN == gender) &#123; // do something&#125; ä¹Ÿå¯ä»¥ç›´æ¥å®ç°ä¸€ä¸ªçº¿ç¨‹å•ä¾‹ï¼ŒJVM å±‚é¢æä¾›çš„ä¿éšœ 123456789101112131415161718192021public class SingleEnumDemo &#123; public enum SingleEn &#123; INSTANCE; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; &#125; public static void main(String[] args) &#123; SingleEn.INSTANCE.setName(&quot;zp&quot;); System.out.println(SingleEn.INSTANCE.getName()); &#125;&#125; è¿˜èƒ½æ ¡éªŒå‚æ•°æ˜¯å¦éæ³•ï¼Œä½¿ç”¨ valueOf æ–¹æ³• 1234567public enum Gender &#123; MAN, WOMAN;&#125;if (null == Gender.valueOf(&quot;xxxxx&quot;)) &#123; throw new IllegalArgumentException();&#125; å½“ç„¶æœ€å¸¸è§çš„ï¼Œè¿˜æ˜¯å®šä¹‰å„ç§çŠ¶æ€ï¼Œä¼¼ä¹è§‰å¾—æšä¸¾å¤©ç”Ÿå°±æ˜¯è¿™æ ·ç”¨çš„ 1234567891011@Getter@AllArgsConstructorpublic enum ShareRuleEnum &#123; REDPACKET(&quot;åº—é‹ªç´…åŒ…&quot;, 1), MANJIAN(&quot;æ»¿æ¸›å„ªæƒ &quot;, 2), MANZENG(&quot;æ»¿è´ˆæ´»å‹•&quot;, 4), ZHEKOU(&quot;æŠ˜æ‰£å•†å“&quot;, 8), ; private String shareRuleName; private Integer code;&#125; æšä¸¾ä½¿ç”¨çš„å…¶ä»–æ¡ˆä¾‹æŸä¸ªåœºæ™¯ï¼Œéœ€è¦ä¸€ä¸ªæŸ¥è¯¢çš„æ¥å£ï¼ŒæŸ¥è¯¢çš„å‚æ•°æœ‰æ—¶é—´åŒºé—´ï¼Œå³å¼€å§‹æ—¶é—´~ç»“æŸæ—¶é—´ã€‚è‡ªç„¶æˆ‘ä»¬ä¼šæƒ³åˆ°ï¼Œå®šä¹‰ä¸¤ä¸ªè¯·æ±‚å‚æ•° start ã€end 12345public MsgResult&lt;XXXResult&gt; get( @RequestParam Date start, @RequestParam Date end) &#123; // do something&#125; åœ¨è¿™ä¸ªåœºæ™¯ä¸Šï¼Œé™„åŠ ä¸Šäº†ä¸€ä¸ªè§„åˆ™ï¼Œåªèƒ½ä½¿ç”¨ç»™å®šçš„æ—¶é—´åŒºé—´ï¼ˆå¦‚ï¼šä»Šå¤©ï¼Œæ˜¨å¤©ï¼Œæœ¬æœˆï¼Œä¸Šæœˆâ€¦ï¼‰ï¼Œè¿™æ—¶å¤§å®¶åº”è¯¥èƒ½æƒ³åˆ°æšä¸¾åˆæœ‰ç”¨æ­¦ä¹‹åœ°äº†ï¼Œä¾‹å¦‚ï¼š 1234567891011121314public MsgResult&lt;XXXResult&gt; get( @RequestParam DateRangeEnum dateRange) &#123; Date start, end; if (dateRange == TODAY) &#123; start = ..., end = ...; &#125; ... // do something&#125;enum DateRangeEnum &#123; TODAY, YESTEDAY, CURRENT_MONTH, LAST_MONTH;&#125; ç­‰ç­‰â€¦â€¦ æ€è€ƒä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å®šä¹‰æšä¸¾ï¼Ÿæ˜¯ä¸ºäº†è¦çº¦æŸå…¥å‚çš„èŒƒå›´ï¼Œè¿™ä¸ªæšä¸¾ç¡®å®åšåˆ°äº†éƒ¨åˆ†ï¼Œå› ä¸ºåªèƒ½ä¼ é€’ TODAYï¼ŒYESTEDAY, CURRENT_MONTH, LAST_MONTHã€‚ ä½†è¿™äº›æšä¸¾å€¼æ‰€ä»£è¡¨çš„å«ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¾‹å¦‚ TODAY æ˜¯å¸Œæœ› start ä¸ºä»Šå¤©çš„å¼€å§‹ï¼Œend ä¸ºæ˜å¤©çš„å¼€å§‹ï¼ˆé—­åŒºé—´ï¼‰ ç„¶è€Œè¿™äº›ä»£ç å´æ²¡æœ‰åœ¨ DateRangeEnum ç±»é‡Œé¢ä½“ç°ï¼Œè€Œå†™åœ¨äº†å…¶ä»–æ–¹æ³•é‡Œé¢ã€‚ ç”±æ­¤æˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œæˆ‘ä»¬æä¾›çš„ DateRangeEnum ç±»è¡¨è¾¾çš„æ„æ€ä¸å…¨çš„ï¼Œæ˜¯æ®‹ç¼ºçš„ï¼Œæœ€èµ·ç ç°åœ¨çœ‹æ¥æ®‹ç¼ºäº†æ—¶é—´åŒºé—´çš„è¡¨è¾¾ã€‚ æ”¹è¿›ä¸€ç‰ˆï¼Œæä¾›ä¸€ä¸ªæ—¶é—´åŒºé—´çš„æ¥å£ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ï¼‰ï¼Œä»¥åŠä¸€ä¸ªæ™®é€š Bean çš„å®ç°ã€‚ 12345678910111213interface DateRange &#123; Date getStart(); Date getEnd();&#125;@Data@AllArgsConstructor@NoArgsConstructorclass DateRangeParam implements DateRange &#123; private Date start; private Date end;&#125; æ”¹é€ æšä¸¾ DateRangeEnum, è®©ä»–èƒ½å¤Ÿäº§ç”Ÿæ—¶é—´åŒºé—´ï¼Œæˆ‘ä»¬å°±åˆ©ç”¨ Java8 å·²ç»å®šä¹‰å¥½äº†æ¥å£ Supplierï¼Œè®© DateRangeEnum å®ç°è¯¥æ¥å£ã€‚ 1234567891011121314151617181920212223242526272829303132333435public MsgResult&lt;XXXResult&gt; get( @RequestParam DateRangeEnum dateRange) &#123; DateRange range = dateRange.get(); range.getStart(); range.getEnd(); ... // do something&#125;enum DateRangeEnum implements Supplier&lt;DateRange&gt; &#123; TODAY &#123; @Override public DateRange get() &#123; Date now = new Date(); return new DateRangeParam( truncate(now, Calendar.DATE), addDays(truncate(now, Calendar.DATE), 1) ); &#125; &#125;, YESTERDAY &#123; @Override public DateRange get() &#123; Date now = new Date(); return new DateRangeParam( addDays(truncate(now, Calendar.DATE), -1), truncate(now, Calendar.DATE) ); &#125; &#125;, // ...çœç•¥æœ¬æœˆã€ä¸Šæœˆçš„å®ç°... ;&#125; è¿™æ ·ï¼Œæšä¸¾ä¸­å°±åŒ…å«äº†æ—¶é—´åŒºé—´çš„å«ä¹‰äº†ï¼Œé€šè¿‡è°ƒç”¨æšä¸¾çš„ get æ–¹æ³•ï¼Œå¦‚ TODAY.get() ï¼Œå°±èƒ½è·å–æ—¶é—´åŒºé—´ DateRange äº†ã€‚ è¿™å°±æ˜¯æšä¸¾çš„é«˜çº§ç”¨æ³•ï¼Œã€é«˜çº§ã€å…¶å®æŒ‡çš„ä¸æ˜¯æŠ€æœ¯ä¸Šçš„é«˜çº§ï¼Œæ— éæ˜¯å®ç°äº†æ¥å£è€Œå·²ï¼Œè€Œæ˜¯æŠŠæšä¸¾éœ€è¦è¡¨è¾¾çš„å«ä¹‰ï¼ˆå¦‚ TODAY è¦è¡¨è¾¾çš„å«ä¹‰æ˜¯ä»Šå¤©åˆ°æ˜å¤©ï¼‰è¡¨è¾¾æ¸…æ¥šã€è¡¨è¾¾å®Œæ•´ã€‚ è¿›é˜¶ğŸ¤”ä»¥ä¸Šä»£ç è¿˜æœ‰ä»€ä¹ˆé—®é¢˜ä¹ˆï¼Ÿä¾‹å¦‚å¦‚ä½•è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Ÿ","categories":[],"tags":[{"name":"ç¼–ç æŠ€å·§","slug":"ç¼–ç æŠ€å·§","permalink":"https://chenlingmin.github.io/tags/%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/"}]}],"categories":[],"tags":[{"name":"ç¼–ç æŠ€å·§","slug":"ç¼–ç æŠ€å·§","permalink":"https://chenlingmin.github.io/tags/%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/"}]}