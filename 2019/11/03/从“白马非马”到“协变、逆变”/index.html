<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>从“白马非马”到“协变、逆变” | 黑牛随笔</title><meta name="keywords" content="思考,泛型,java,面向对象"><meta name="author" content="黑牛,chenlingmin.com@gmail.com"><meta name="copyright" content="黑牛"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一段哲学辩论据说，公孙龙有一次需要过关, 关吏只允许人通过，于是有了下面的辩论。 关吏：”按照惯例，过关人可以，但马不行。” 公孙龙：”我的是白马，不是马。” 关吏：”白马怎么能不是马呢？” 公孙龙：”‘马’是对物’形’方面的规定，’白马’则是对马’色’方面的规定，对’色’方面的规定与对’形’方面的规定，自然是不同的，所以说，对不同的概念加以不同规定的结果，白马与马也是不同的。” 关吏：”有了白马">
<meta property="og:type" content="article">
<meta property="og:title" content="从“白马非马”到“协变、逆变”">
<meta property="og:url" content="https://chenlingmin.github.io/2019/11/03/%E4%BB%8E%E2%80%9C%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC%E2%80%9D%E5%88%B0%E2%80%9C%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8F%98%E2%80%9D/index.html">
<meta property="og:site_name" content="黑牛随笔">
<meta property="og:description" content="一段哲学辩论据说，公孙龙有一次需要过关, 关吏只允许人通过，于是有了下面的辩论。 关吏：”按照惯例，过关人可以，但马不行。” 公孙龙：”我的是白马，不是马。” 关吏：”白马怎么能不是马呢？” 公孙龙：”‘马’是对物’形’方面的规定，’白马’则是对马’色’方面的规定，对’色’方面的规定与对’形’方面的规定，自然是不同的，所以说，对不同的概念加以不同规定的结果，白马与马也是不同的。” 关吏：”有了白马">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2019-11-03T04:44:55.000Z">
<meta property="article:modified_time" content="2021-12-08T06:24:50.323Z">
<meta property="article:author" content="黑牛">
<meta property="article:tag" content="思考">
<meta property="article:tag" content="泛型">
<meta property="article:tag" content="java">
<meta property="article:tag" content="面向对象">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chenlingmin.github.io/2019/11/03/%E4%BB%8E%E2%80%9C%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC%E2%80%9D%E5%88%B0%E2%80%9C%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8F%98%E2%80%9D/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '从“白马非马”到“协变、逆变”',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-12-08 14:24:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="黑牛随笔" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/8233283" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">黑牛随笔</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">从“白马非马”到“协变、逆变”</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-11-03T04:44:55.000Z" title="发表于 2019-11-03 12:44:55">2019-11-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-12-08T06:24:50.323Z" title="更新于 2021-12-08 14:24:50">2021-12-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="从“白马非马”到“协变、逆变”"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="一段哲学辩论"><a href="#一段哲学辩论" class="headerlink" title="一段哲学辩论"></a>一段哲学辩论</h2><p>据说，公孙龙有一次需要过关, 关吏只允许人通过，于是有了下面的辩论。</p>
<p>关吏：”按照惯例，过关人可以，但马不行。”</p>
<p>公孙龙：”我的是白马，不是马。”</p>
<p>关吏：”白马怎么能不是马呢？”</p>
<p>公孙龙：”‘马’是对物’形’方面的规定，’白马’则是对马’色’方面的规定，对’色’方面的规定与对’形’方面的规定，自然是不同的，所以说，对不同的概念加以不同规定的结果，白马与马也是不同的。”</p>
<p>关吏：”有了白马，就不可以说没有马。既然不可以说没有马，那么白马不就是马了么？既然有白马称为有马，那么为什么白色的马就不是马呢？”</p>
<p>公孙龙：”如果你要求得到’马’，黄马、黑马都可以满足要求；如果要求得到白马，黄马、黑马就不能满足要求了。假如白马就是马，那么要求得到马与要求得到白马便完全一样了，这就表明白马与马不一样，所以白马非马。”</p>
<p>…略 公孙龙成功过关…</p>
<p>在这个故事中，我们常人的理解，就如关吏一样，马是包含了白马、黄马、黑马……，所以我们认为白马是马</p>
<p>而公孙龙的角度则是，区分出白马的’形’与’色’，分析出他们在不同的场景下，不一样的性质。</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="138px" preserveAspectRatio="none" style="width:403px;height:138px;background:#FFFFFF;" version="1.1" viewBox="0 0 403 138" width="403px" zoomAndPan="magnify"><defs/><g><!--MD5=[ced20fe0d287375d25d243599fc4d6cf]
class Horse--><rect codeLine="18" fill="#FFFFFF" height="32" id="Horse" style="stroke:#FF0066;stroke-width:1.5;" width="69" x="165" y="99"/><ellipse cx="180" cy="115" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M176.9063,113.3906 L178.9219,117.6563 L180.4688,117.6563 L182.3594,113.3906 L182.3594,118.2969 L181.7656,118.2969 C181.3125,118.2969 181.2031,118.3125 181.0469,118.4219 C180.7969,118.5781 180.6406,118.8594 180.6406,119.1563 C180.6406,119.4063 180.7656,119.6719 181,119.8281 C181.125,119.9531 181.375,120 181.7656,120 L183.9688,120 C184.3125,120 184.5625,119.9531 184.6875,119.875 C184.9375,119.7188 185.0938,119.4375 185.0938,119.1563 C185.0938,118.6094 184.7188,118.2969 184.0469,118.2969 L184.0469,111.7813 C184.6094,111.7344 184.9375,111.4375 184.9375,110.9375 C184.9375,110.6719 184.7969,110.4063 184.5938,110.2344 C184.4219,110.125 184.2813,110.0938 183.8125,110.0938 L181.9531,110.0938 L179.6563,115.1406 L177.3125,110.0938 L175.4531,110.0938 C175.4375,110.0781 175.4219,110.0781 175.3906,110.0781 C175.1875,110.0781 174.8281,110.1406 174.7344,110.1875 C174.4844,110.3594 174.3281,110.6563 174.3281,110.9219 C174.3281,111.4375 174.6563,111.7344 175.2188,111.7813 L175.2188,118.2969 C174.5469,118.2969 174.1719,118.6094 174.1719,119.1563 C174.1719,119.4219 174.3125,119.6719 174.5313,119.8281 C174.6875,119.9531 174.9063,120 175.3125,120 L177.5156,120 C177.8438,120 178.1094,119.9531 178.2188,119.875 C178.4844,119.7188 178.625,119.4375 178.625,119.1563 C178.625,118.875 178.5156,118.625 178.2969,118.4531 C178.1094,118.3281 177.9688,118.2969 177.5156,118.2969 L176.9063,118.2969 L176.9063,113.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="37" x="194" y="119.1543">Horse</text><!--MD5=[90a0a161ab6003eb8100bc54898200c2]
class WhiteHorse--><rect codeLine="20" fill="#FFFFFF" height="32" id="WhiteHorse" style="stroke:#FF0066;stroke-width:1.5;" width="103" x="7" y="7"/><ellipse cx="22" cy="23" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M18.9063,21.3906 L20.9219,25.6563 L22.4688,25.6563 L24.3594,21.3906 L24.3594,26.2969 L23.7656,26.2969 C23.3125,26.2969 23.2031,26.3125 23.0469,26.4219 C22.7969,26.5781 22.6406,26.8594 22.6406,27.1563 C22.6406,27.4063 22.7656,27.6719 23,27.8281 C23.125,27.9531 23.375,28 23.7656,28 L25.9688,28 C26.3125,28 26.5625,27.9531 26.6875,27.875 C26.9375,27.7188 27.0938,27.4375 27.0938,27.1563 C27.0938,26.6094 26.7188,26.2969 26.0469,26.2969 L26.0469,19.7813 C26.6094,19.7344 26.9375,19.4375 26.9375,18.9375 C26.9375,18.6719 26.7969,18.4063 26.5938,18.2344 C26.4219,18.125 26.2813,18.0938 25.8125,18.0938 L23.9531,18.0938 L21.6563,23.1406 L19.3125,18.0938 L17.4531,18.0938 C17.4375,18.0781 17.4219,18.0781 17.3906,18.0781 C17.1875,18.0781 16.8281,18.1406 16.7344,18.1875 C16.4844,18.3594 16.3281,18.6563 16.3281,18.9219 C16.3281,19.4375 16.6563,19.7344 17.2188,19.7813 L17.2188,26.2969 C16.5469,26.2969 16.1719,26.6094 16.1719,27.1563 C16.1719,27.4219 16.3125,27.6719 16.5313,27.8281 C16.6875,27.9531 16.9063,28 17.3125,28 L19.5156,28 C19.8438,28 20.1094,27.9531 20.2188,27.875 C20.4844,27.7188 20.625,27.4375 20.625,27.1563 C20.625,26.875 20.5156,26.625 20.2969,26.4531 C20.1094,26.3281 19.9688,26.2969 19.5156,26.2969 L18.9063,26.2969 L18.9063,21.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="71" x="36" y="27.1543">WhiteHorse</text><!--MD5=[aaed7e7a0d00fb5555758e1b9c1da84d]
class BlackHourse--><rect codeLine="21" fill="#FFFFFF" height="32" id="BlackHourse" style="stroke:#FF0066;stroke-width:1.5;" width="108" x="145.5" y="7"/><ellipse cx="160.5" cy="23" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M157.4063,21.3906 L159.4219,25.6563 L160.9688,25.6563 L162.8594,21.3906 L162.8594,26.2969 L162.2656,26.2969 C161.8125,26.2969 161.7031,26.3125 161.5469,26.4219 C161.2969,26.5781 161.1406,26.8594 161.1406,27.1563 C161.1406,27.4063 161.2656,27.6719 161.5,27.8281 C161.625,27.9531 161.875,28 162.2656,28 L164.4688,28 C164.8125,28 165.0625,27.9531 165.1875,27.875 C165.4375,27.7188 165.5938,27.4375 165.5938,27.1563 C165.5938,26.6094 165.2188,26.2969 164.5469,26.2969 L164.5469,19.7813 C165.1094,19.7344 165.4375,19.4375 165.4375,18.9375 C165.4375,18.6719 165.2969,18.4063 165.0938,18.2344 C164.9219,18.125 164.7813,18.0938 164.3125,18.0938 L162.4531,18.0938 L160.1563,23.1406 L157.8125,18.0938 L155.9531,18.0938 C155.9375,18.0781 155.9219,18.0781 155.8906,18.0781 C155.6875,18.0781 155.3281,18.1406 155.2344,18.1875 C154.9844,18.3594 154.8281,18.6563 154.8281,18.9219 C154.8281,19.4375 155.1563,19.7344 155.7188,19.7813 L155.7188,26.2969 C155.0469,26.2969 154.6719,26.6094 154.6719,27.1563 C154.6719,27.4219 154.8125,27.6719 155.0313,27.8281 C155.1875,27.9531 155.4063,28 155.8125,28 L158.0156,28 C158.3438,28 158.6094,27.9531 158.7188,27.875 C158.9844,27.7188 159.125,27.4375 159.125,27.1563 C159.125,26.875 159.0156,26.625 158.7969,26.4531 C158.6094,26.3281 158.4688,26.2969 158.0156,26.2969 L157.4063,26.2969 L157.4063,21.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="174.5" y="27.1543">BlackHourse</text><!--MD5=[18ca4d4cc06ef75fbc60bd83e7a4e4bd]
class YellowHorse--><rect codeLine="22" fill="#FFFFFF" height="32" id="YellowHorse" style="stroke:#FF0066;stroke-width:1.5;" width="108" x="288.5" y="7"/><ellipse cx="303.5" cy="23" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M300.4063,21.3906 L302.4219,25.6563 L303.9688,25.6563 L305.8594,21.3906 L305.8594,26.2969 L305.2656,26.2969 C304.8125,26.2969 304.7031,26.3125 304.5469,26.4219 C304.2969,26.5781 304.1406,26.8594 304.1406,27.1563 C304.1406,27.4063 304.2656,27.6719 304.5,27.8281 C304.625,27.9531 304.875,28 305.2656,28 L307.4688,28 C307.8125,28 308.0625,27.9531 308.1875,27.875 C308.4375,27.7188 308.5938,27.4375 308.5938,27.1563 C308.5938,26.6094 308.2188,26.2969 307.5469,26.2969 L307.5469,19.7813 C308.1094,19.7344 308.4375,19.4375 308.4375,18.9375 C308.4375,18.6719 308.2969,18.4063 308.0938,18.2344 C307.9219,18.125 307.7813,18.0938 307.3125,18.0938 L305.4531,18.0938 L303.1563,23.1406 L300.8125,18.0938 L298.9531,18.0938 C298.9375,18.0781 298.9219,18.0781 298.8906,18.0781 C298.6875,18.0781 298.3281,18.1406 298.2344,18.1875 C297.9844,18.3594 297.8281,18.6563 297.8281,18.9219 C297.8281,19.4375 298.1563,19.7344 298.7188,19.7813 L298.7188,26.2969 C298.0469,26.2969 297.6719,26.6094 297.6719,27.1563 C297.6719,27.4219 297.8125,27.6719 298.0313,27.8281 C298.1875,27.9531 298.4063,28 298.8125,28 L301.0156,28 C301.3438,28 301.6094,27.9531 301.7188,27.875 C301.9844,27.7188 302.125,27.4375 302.125,27.1563 C302.125,26.875 302.0156,26.625 301.7969,26.4531 C301.6094,26.3281 301.4688,26.2969 301.0156,26.2969 L300.4063,26.2969 L300.4063,21.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="317.5" y="27.1543">YellowHorse</text><!--MD5=[b4761fb272ab9bd816d8e08fb4d06bb8]
link WhiteHorse to Horse--><path codeLine="24" d="M58.5,39.0252 C58.5,65.3838 58.5,115 58.5,115 C58.5,115 144.646,115 144.646,115 " fill="none" id="WhiteHorse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="144.646,107.9999,164.646,115,144.646,121.9999,144.646,107.9999" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[a3c8b59944043a012a80012a5cb41430]
link YellowHorse to Horse--><path codeLine="25" d="M342.5,39.0252 C342.5,65.3838 342.5,115 342.5,115 C342.5,115 254.116,115 254.116,115 " fill="none" id="YellowHorse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="254.116,121.9999,234.116,115,254.116,107.9999,254.116,121.9999" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[0775a66c677e0a9132dcd1ffb54c9060]
link BlackHourse to Horse--><path codeLine="26" d="M199.5,39.0252 C199.5,39.0252 199.5,78.8498 199.5,78.8498 " fill="none" id="BlackHourse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="206.5,78.8498,199.5,98.8498,192.5,78.8497,206.5,78.8498" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[a2582a1d9f681050328928f9f05109e8]
@startuml
!define entity(x, desc) class "desc" as x << (M,#ffebf3)  >>

'left to right direction
skinparam classFontColor #3b0018
skinparam classArrowColor #ff0066
skinparam classBorderColor #ff0066
skinparam classBackgroundColor ##f6f4ee
skinparam shadowing false
'skinparam linetype polyline
skinparam linetype ortho



hide methods
hide stereotypes
hide field

entity(Horse, 'Horse')

entity(WhiteHorse, 'WhiteHorse')
entity(BlackHourse, 'BlackHourse')
entity(YellowHorse, 'YellowHorse')

WhiteHorse - -|> Horse
YellowHorse - -|> Horse
BlackHourse - -|> Horse
@enduml

@startuml

skinparam classFontColor #3b0018
skinparam classArrowColor #ff0066
skinparam classBorderColor #ff0066
skinparam classBackgroundColor ##f6f4ee
skinparam shadowing false
skinparam linetype ortho



hide methods
hide stereotypes
hide field

class "Horse" as Horse << (M,#ffebf3)  >>

class "WhiteHorse" as WhiteHorse << (M,#ffebf3)  >>
class "BlackHourse" as BlackHourse << (M,#ffebf3)  >>
class "YellowHorse" as YellowHorse << (M,#ffebf3)  >>

WhiteHorse - -|> Horse
YellowHorse - -|> Horse
BlackHourse - -|> Horse
@enduml

PlantUML version 1.2021.16beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>


<h2 id="协变与逆变"><a href="#协变与逆变" class="headerlink" title="协变与逆变"></a>协变与逆变</h2><p>对象的继承关系，是面对对象设计思想的精髓所在，例如下列代码大家肯定不陌生，这表示了白马是马的子类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Horse</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WhiteHorse</span> <span class="keyword">extends</span> <span class="title">Horse</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YellowHorse</span> <span class="keyword">extends</span> <span class="title">Horse</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlackHourse</span> <span class="keyword">extends</span> <span class="title">Horse</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Horse horse = <span class="keyword">new</span> WhiteHorse();</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>这总自然“和谐”的关系转变，就称为协变。</p>
<p>在 <code>java</code> 中，数组是协变的，但会存在一些问题，如下列代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Horse[] horses = <span class="keyword">new</span> WhiteHorse[<span class="number">10</span>]; </span><br><span class="line">horses[<span class="number">0</span>] = <span class="keyword">new</span> WhiteHorse();</span><br><span class="line">horses[<span class="number">1</span>] = <span class="keyword">new</span> BlackHourse(); <span class="comment">// 编译通过，运行时报错</span></span><br></pre></td></tr></table></figure>

<p>而泛型是不变的，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Horse&gt; horseList = <span class="keyword">new</span> ArrayList&lt;Hourse&gt;(); <span class="comment">// 正常</span></span><br><span class="line">List&lt;Horse&gt; horseList = <span class="keyword">new</span> ArrayList&lt;WhiteHorse&gt;(); <span class="comment">// 编译报错</span></span><br></pre></td></tr></table></figure>

<h3 id="extends-关键字"><a href="#extends-关键字" class="headerlink" title="extends 关键字"></a>extends 关键字</h3><p>在 <code>java</code> 中，如果需要泛型实现协变，可以使用 extends 关键字:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;? extends Horse&gt; horseList = <span class="keyword">new</span> ArrayList&lt;WhiteHorse&gt;();</span><br><span class="line"></span><br><span class="line">Horse horse = horseList.get(<span class="number">0</span>); <span class="comment">// 白马是马 （运行会报数组越界）</span></span><br><span class="line"></span><br><span class="line">horseList.add(<span class="keyword">new</span> WhiteHorse()); <span class="comment">// 白马非马 编译报错</span></span><br></pre></td></tr></table></figure>


<p>上述代码中，<code>horseList</code> 是协变的，白马的所有元素，都被认为是马，也就是白马是马的体现。</p>
<p>然而调用 <code>add(new WhiteHorse())</code> 却无法编译，又体现出了白马非马的特点。</p>
<p>原因在于 <code>List&lt;? extends Horse&gt;</code> 也可以向合法指向的 <code>List&lt;BlackHourse&gt;</code>，显然里面放 <code>WhiteHorse</code> 是非法的，编译器不知道<code>List&lt;? extends Horse&gt;</code>的所持有的具体类型是什么，所以一旦转型，就将丢失向其中消费对象的能力，而只保留了向外提供对象的能力。</p>
<p>在 <code>kotlin</code> 中，放弃了 <code>java</code> 的 <code>extends</code> 关键字的使用，而使用 <code>out</code> 更具语意的词汇，来表达协变的关系转换，只保留了向外提供对象的能力。</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="141px" preserveAspectRatio="none" style="width:471px;height:141px;background:#FFFFFF;" version="1.1" viewBox="0 0 471 141" width="471px" zoomAndPan="magnify"><defs/><g><!--MD5=[ced20fe0d287375d25d243599fc4d6cf]
class Horse--><rect codeLine="18" fill="#FFFFFF" height="32" id="Horse" style="stroke:#FF0066;stroke-width:1.5;" width="152" x="156.5" y="102"/><ellipse cx="171.5" cy="118" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M168.4063,116.3906 L170.4219,120.6563 L171.9688,120.6563 L173.8594,116.3906 L173.8594,121.2969 L173.2656,121.2969 C172.8125,121.2969 172.7031,121.3125 172.5469,121.4219 C172.2969,121.5781 172.1406,121.8594 172.1406,122.1563 C172.1406,122.4063 172.2656,122.6719 172.5,122.8281 C172.625,122.9531 172.875,123 173.2656,123 L175.4688,123 C175.8125,123 176.0625,122.9531 176.1875,122.875 C176.4375,122.7188 176.5938,122.4375 176.5938,122.1563 C176.5938,121.6094 176.2188,121.2969 175.5469,121.2969 L175.5469,114.7813 C176.1094,114.7344 176.4375,114.4375 176.4375,113.9375 C176.4375,113.6719 176.2969,113.4063 176.0938,113.2344 C175.9219,113.125 175.7813,113.0938 175.3125,113.0938 L173.4531,113.0938 L171.1563,118.1406 L168.8125,113.0938 L166.9531,113.0938 C166.9375,113.0781 166.9219,113.0781 166.8906,113.0781 C166.6875,113.0781 166.3281,113.1406 166.2344,113.1875 C165.9844,113.3594 165.8281,113.6563 165.8281,113.9219 C165.8281,114.4375 166.1563,114.7344 166.7188,114.7813 L166.7188,121.2969 C166.0469,121.2969 165.6719,121.6094 165.6719,122.1563 C165.6719,122.4219 165.8125,122.6719 166.0313,122.8281 C166.1875,122.9531 166.4063,123 166.8125,123 L169.0156,123 C169.3438,123 169.6094,122.9531 169.7188,122.875 C169.9844,122.7188 170.125,122.4375 170.125,122.1563 C170.125,121.875 170.0156,121.625 169.7969,121.4531 C169.6094,121.3281 169.4688,121.2969 169.0156,121.2969 L168.4063,121.2969 L168.4063,116.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="185.5" y="122.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="98" x="213.5" y="99"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="214.5" y="111.1387">? extends Horse</text><!--MD5=[90a0a161ab6003eb8100bc54898200c2]
class WhiteHorse--><rect codeLine="20" fill="#FFFFFF" height="32" id="WhiteHorse" style="stroke:#FF0066;stroke-width:1.5;" width="125" x="7" y="10"/><ellipse cx="22" cy="26" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M18.9063,24.3906 L20.9219,28.6563 L22.4688,28.6563 L24.3594,24.3906 L24.3594,29.2969 L23.7656,29.2969 C23.3125,29.2969 23.2031,29.3125 23.0469,29.4219 C22.7969,29.5781 22.6406,29.8594 22.6406,30.1563 C22.6406,30.4063 22.7656,30.6719 23,30.8281 C23.125,30.9531 23.375,31 23.7656,31 L25.9688,31 C26.3125,31 26.5625,30.9531 26.6875,30.875 C26.9375,30.7188 27.0938,30.4375 27.0938,30.1563 C27.0938,29.6094 26.7188,29.2969 26.0469,29.2969 L26.0469,22.7813 C26.6094,22.7344 26.9375,22.4375 26.9375,21.9375 C26.9375,21.6719 26.7969,21.4063 26.5938,21.2344 C26.4219,21.125 26.2813,21.0938 25.8125,21.0938 L23.9531,21.0938 L21.6563,26.1406 L19.3125,21.0938 L17.4531,21.0938 C17.4375,21.0781 17.4219,21.0781 17.3906,21.0781 C17.1875,21.0781 16.8281,21.1406 16.7344,21.1875 C16.4844,21.3594 16.3281,21.6563 16.3281,21.9219 C16.3281,22.4375 16.6563,22.7344 17.2188,22.7813 L17.2188,29.2969 C16.5469,29.2969 16.1719,29.6094 16.1719,30.1563 C16.1719,30.4219 16.3125,30.6719 16.5313,30.8281 C16.6875,30.9531 16.9063,31 17.3125,31 L19.5156,31 C19.8438,31 20.1094,30.9531 20.2188,30.875 C20.4844,30.7188 20.625,30.4375 20.625,30.1563 C20.625,29.875 20.5156,29.625 20.2969,29.4531 C20.1094,29.3281 19.9688,29.2969 19.5156,29.2969 L18.9063,29.2969 L18.9063,24.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="36" y="30.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="71" x="64" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="65" y="19.1387">WhiteHorse</text><!--MD5=[aaed7e7a0d00fb5555758e1b9c1da84d]
class BlackHourse--><rect codeLine="21" fill="#FFFFFF" height="32" id="BlackHourse" style="stroke:#FF0066;stroke-width:1.5;" width="130" x="167.5" y="10"/><ellipse cx="182.5" cy="26" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M179.4063,24.3906 L181.4219,28.6563 L182.9688,28.6563 L184.8594,24.3906 L184.8594,29.2969 L184.2656,29.2969 C183.8125,29.2969 183.7031,29.3125 183.5469,29.4219 C183.2969,29.5781 183.1406,29.8594 183.1406,30.1563 C183.1406,30.4063 183.2656,30.6719 183.5,30.8281 C183.625,30.9531 183.875,31 184.2656,31 L186.4688,31 C186.8125,31 187.0625,30.9531 187.1875,30.875 C187.4375,30.7188 187.5938,30.4375 187.5938,30.1563 C187.5938,29.6094 187.2188,29.2969 186.5469,29.2969 L186.5469,22.7813 C187.1094,22.7344 187.4375,22.4375 187.4375,21.9375 C187.4375,21.6719 187.2969,21.4063 187.0938,21.2344 C186.9219,21.125 186.7813,21.0938 186.3125,21.0938 L184.4531,21.0938 L182.1563,26.1406 L179.8125,21.0938 L177.9531,21.0938 C177.9375,21.0781 177.9219,21.0781 177.8906,21.0781 C177.6875,21.0781 177.3281,21.1406 177.2344,21.1875 C176.9844,21.3594 176.8281,21.6563 176.8281,21.9219 C176.8281,22.4375 177.1563,22.7344 177.7188,22.7813 L177.7188,29.2969 C177.0469,29.2969 176.6719,29.6094 176.6719,30.1563 C176.6719,30.4219 176.8125,30.6719 177.0313,30.8281 C177.1875,30.9531 177.4063,31 177.8125,31 L180.0156,31 C180.3438,31 180.6094,30.9531 180.7188,30.875 C180.9844,30.7188 181.125,30.4375 181.125,30.1563 C181.125,29.875 181.0156,29.625 180.7969,29.4531 C180.6094,29.3281 180.4688,29.2969 180.0156,29.2969 L179.4063,29.2969 L179.4063,24.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="196.5" y="30.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="76" x="224.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="74" x="225.5" y="19.1387">BlackHourse</text><!--MD5=[18ca4d4cc06ef75fbc60bd83e7a4e4bd]
class YellowHorse--><rect codeLine="22" fill="#FFFFFF" height="32" id="YellowHorse" style="stroke:#FF0066;stroke-width:1.5;" width="127" x="333" y="10"/><ellipse cx="348" cy="26" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M344.9063,24.3906 L346.9219,28.6563 L348.4688,28.6563 L350.3594,24.3906 L350.3594,29.2969 L349.7656,29.2969 C349.3125,29.2969 349.2031,29.3125 349.0469,29.4219 C348.7969,29.5781 348.6406,29.8594 348.6406,30.1563 C348.6406,30.4063 348.7656,30.6719 349,30.8281 C349.125,30.9531 349.375,31 349.7656,31 L351.9688,31 C352.3125,31 352.5625,30.9531 352.6875,30.875 C352.9375,30.7188 353.0938,30.4375 353.0938,30.1563 C353.0938,29.6094 352.7188,29.2969 352.0469,29.2969 L352.0469,22.7813 C352.6094,22.7344 352.9375,22.4375 352.9375,21.9375 C352.9375,21.6719 352.7969,21.4063 352.5938,21.2344 C352.4219,21.125 352.2813,21.0938 351.8125,21.0938 L349.9531,21.0938 L347.6563,26.1406 L345.3125,21.0938 L343.4531,21.0938 C343.4375,21.0781 343.4219,21.0781 343.3906,21.0781 C343.1875,21.0781 342.8281,21.1406 342.7344,21.1875 C342.4844,21.3594 342.3281,21.6563 342.3281,21.9219 C342.3281,22.4375 342.6563,22.7344 343.2188,22.7813 L343.2188,29.2969 C342.5469,29.2969 342.1719,29.6094 342.1719,30.1563 C342.1719,30.4219 342.3125,30.6719 342.5313,30.8281 C342.6875,30.9531 342.9063,31 343.3125,31 L345.5156,31 C345.8438,31 346.1094,30.9531 346.2188,30.875 C346.4844,30.7188 346.625,30.4375 346.625,30.1563 C346.625,29.875 346.5156,29.625 346.2969,29.4531 C346.1094,29.3281 345.9688,29.2969 345.5156,29.2969 L344.9063,29.2969 L344.9063,24.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="362" y="30.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="73" x="390" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="391" y="19.1387">YellowHorse</text><!--MD5=[b4761fb272ab9bd816d8e08fb4d06bb8]
link WhiteHorse to Horse--><path codeLine="24" d="M132.223,26 C148.72,26 162,26 162,26 C162,26 162,81.9748 162,81.9748 " fill="none" id="WhiteHorse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="169,81.9749,162,101.9748,155,81.9748,169,81.9749" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[a3c8b59944043a012a80012a5cb41430]
link YellowHorse to Horse--><path codeLine="25" d="M332.841,26 C316.286,26 303,26 303,26 C303,26 303,81.9748 303,81.9748 " fill="none" id="YellowHorse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="310,81.9749,303,101.9748,296,81.9748,310,81.9749" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[0775a66c677e0a9132dcd1ffb54c9060]
link BlackHourse to Horse--><path codeLine="26" d="M232.5,42.0252 C232.5,42.0252 232.5,81.8498 232.5,81.8498 " fill="none" id="BlackHourse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="239.5,81.8498,232.5,101.8498,225.5,81.8497,239.5,81.8498" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[f513c2e7a7e30385717a213b60fddfa3]
@startuml
!define entity(x, desc) class "desc" as x << (M,#ffebf3)  >>

'left to right direction
skinparam classFontColor #3b0018
skinparam classArrowColor #ff0066
skinparam classBorderColor #ff0066
skinparam classBackgroundColor ##f6f4ee
skinparam shadowing false
'skinparam linetype polyline
skinparam linetype ortho



hide methods
hide stereotypes
hide field

entity(Horse, 'List<? extends Horse>')

entity(WhiteHorse, 'List<WhiteHorse>')
entity(BlackHourse, 'List<BlackHourse>')
entity(YellowHorse, 'List<YellowHorse>')

WhiteHorse - -|> Horse
YellowHorse - -|> Horse
BlackHourse - -|> Horse
@enduml

@startuml

skinparam classFontColor #3b0018
skinparam classArrowColor #ff0066
skinparam classBorderColor #ff0066
skinparam classBackgroundColor ##f6f4ee
skinparam shadowing false
skinparam linetype ortho



hide methods
hide stereotypes
hide field

class "List<? extends Horse>" as Horse << (M,#ffebf3)  >>

class "List<WhiteHorse>" as WhiteHorse << (M,#ffebf3)  >>
class "List<BlackHourse>" as BlackHourse << (M,#ffebf3)  >>
class "List<YellowHorse>" as YellowHorse << (M,#ffebf3)  >>

WhiteHorse - -|> Horse
YellowHorse - -|> Horse
BlackHourse - -|> Horse
@enduml

PlantUML version 1.2021.16beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>



<h3 id="逆变与-super-关键字的回顾"><a href="#逆变与-super-关键字的回顾" class="headerlink" title="逆变与 super 关键字的回顾"></a>逆变与 super 关键字的回顾</h3><p>与之对应的是，逆变，在 <code>java</code> 中，如果需要泛型实现逆变，可以使用 <code>super</code> 关键字:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;? <span class="keyword">super</span> WhiteHorse&gt; horseList = <span class="keyword">new</span> ArrayList&lt;Horse&gt;();</span><br><span class="line"></span><br><span class="line">horseList.add(<span class="keyword">new</span> WhiteHorse()); </span><br><span class="line"></span><br><span class="line">WhiteHorse horse = horseList.get(<span class="number">0</span>); <span class="comment">// 编译报错，类型无法转换</span></span><br><span class="line">Horse horse = horseList.get(<span class="number">0</span>); <span class="comment">// 编译报错，类型无法转换</span></span><br><span class="line">Object object= horseList.get(<span class="number">0</span>); <span class="comment">// 编译通过</span></span><br></pre></td></tr></table></figure>


<p>上述代码中，<code>horseList</code> 是逆变的，<code>List&lt;? super WhiteHorse&gt;</code> 可以合法的指向所有的 <code>WhiteHorse</code> 父类的集合，显然里面放入 <code>WhiteHorse</code> 是正常的，因为所有能消费处理 <code>WhiteHorse</code> 父类的，肯定能消费处理 <code>WhiteHorse</code>；但是向外提供的对象，则无法确定，只能退化到根类 <code>Object</code>，也就是丢失了向外提供对象的能力，而只保留了消费对象的能力。</p>
<p>在 <code>kotlin</code> 中，放弃了 <code>java</code> 的 <code>super</code> 关键字的使用，而使用与 <code>out</code> 对应的 <code>in</code> 更具语意的词汇，来表达逆变的关系转换，只保留了消费对象的能力。</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="233px" preserveAspectRatio="none" style="width:191px;height:233px;background:#FFFFFF;" version="1.1" viewBox="0 0 191 233" width="191px" zoomAndPan="magnify"><defs/><g><!--MD5=[aa7f586532e18719e6cefa70fc650583]
class Object--><rect codeLine="17" fill="#FFFFFF" height="32" id="Object" style="stroke:#FF0066;stroke-width:1.5;" width="95" x="46" y="194"/><ellipse cx="61" cy="210" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M57.9063,208.3906 L59.9219,212.6563 L61.4688,212.6563 L63.3594,208.3906 L63.3594,213.2969 L62.7656,213.2969 C62.3125,213.2969 62.2031,213.3125 62.0469,213.4219 C61.7969,213.5781 61.6406,213.8594 61.6406,214.1563 C61.6406,214.4063 61.7656,214.6719 62,214.8281 C62.125,214.9531 62.375,215 62.7656,215 L64.9688,215 C65.3125,215 65.5625,214.9531 65.6875,214.875 C65.9375,214.7188 66.0938,214.4375 66.0938,214.1563 C66.0938,213.6094 65.7188,213.2969 65.0469,213.2969 L65.0469,206.7813 C65.6094,206.7344 65.9375,206.4375 65.9375,205.9375 C65.9375,205.6719 65.7969,205.4063 65.5938,205.2344 C65.4219,205.125 65.2813,205.0938 64.8125,205.0938 L62.9531,205.0938 L60.6563,210.1406 L58.3125,205.0938 L56.4531,205.0938 C56.4375,205.0781 56.4219,205.0781 56.3906,205.0781 C56.1875,205.0781 55.8281,205.1406 55.7344,205.1875 C55.4844,205.3594 55.3281,205.6563 55.3281,205.9219 C55.3281,206.4375 55.6563,206.7344 56.2188,206.7813 L56.2188,213.2969 C55.5469,213.2969 55.1719,213.6094 55.1719,214.1563 C55.1719,214.4219 55.3125,214.6719 55.5313,214.8281 C55.6875,214.9531 55.9063,215 56.3125,215 L58.5156,215 C58.8438,215 59.1094,214.9531 59.2188,214.875 C59.4844,214.7188 59.625,214.4375 59.625,214.1563 C59.625,213.875 59.5156,213.625 59.2969,213.4531 C59.1094,213.3281 58.9688,213.2969 58.5156,213.2969 L57.9063,213.2969 L57.9063,208.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="75" y="214.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="41" x="103" y="191"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39" x="104" y="203.1387">Object</text><!--MD5=[ced20fe0d287375d25d243599fc4d6cf]
class Horse--><rect codeLine="18" fill="#FFFFFF" height="32" id="Horse" style="stroke:#FF0066;stroke-width:1.5;" width="90" x="48.5" y="102"/><ellipse cx="63.5" cy="118" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M60.4063,116.3906 L62.4219,120.6563 L63.9688,120.6563 L65.8594,116.3906 L65.8594,121.2969 L65.2656,121.2969 C64.8125,121.2969 64.7031,121.3125 64.5469,121.4219 C64.2969,121.5781 64.1406,121.8594 64.1406,122.1563 C64.1406,122.4063 64.2656,122.6719 64.5,122.8281 C64.625,122.9531 64.875,123 65.2656,123 L67.4688,123 C67.8125,123 68.0625,122.9531 68.1875,122.875 C68.4375,122.7188 68.5938,122.4375 68.5938,122.1563 C68.5938,121.6094 68.2188,121.2969 67.5469,121.2969 L67.5469,114.7813 C68.1094,114.7344 68.4375,114.4375 68.4375,113.9375 C68.4375,113.6719 68.2969,113.4063 68.0938,113.2344 C67.9219,113.125 67.7813,113.0938 67.3125,113.0938 L65.4531,113.0938 L63.1563,118.1406 L60.8125,113.0938 L58.9531,113.0938 C58.9375,113.0781 58.9219,113.0781 58.8906,113.0781 C58.6875,113.0781 58.3281,113.1406 58.2344,113.1875 C57.9844,113.3594 57.8281,113.6563 57.8281,113.9219 C57.8281,114.4375 58.1563,114.7344 58.7188,114.7813 L58.7188,121.2969 C58.0469,121.2969 57.6719,121.6094 57.6719,122.1563 C57.6719,122.4219 57.8125,122.6719 58.0313,122.8281 C58.1875,122.9531 58.4063,123 58.8125,123 L61.0156,123 C61.3438,123 61.6094,122.9531 61.7188,122.875 C61.9844,122.7188 62.125,122.4375 62.125,122.1563 C62.125,121.875 62.0156,121.625 61.7969,121.4531 C61.6094,121.3281 61.4688,121.2969 61.0156,121.2969 L60.4063,121.2969 L60.4063,116.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="77.5" y="122.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="36" x="105.5" y="99"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="34" x="106.5" y="111.1387">Horse</text><!--MD5=[90a0a161ab6003eb8100bc54898200c2]
class WhiteHorse--><rect codeLine="19" fill="#FFFFFF" height="32" id="WhiteHorse" style="stroke:#FF0066;stroke-width:1.5;" width="173" x="7" y="10"/><ellipse cx="22" cy="26" fill="#FFEBF3" rx="11" ry="11" style="stroke:#FF0066;stroke-width:1.0;"/><path d="M18.9063,24.3906 L20.9219,28.6563 L22.4688,28.6563 L24.3594,24.3906 L24.3594,29.2969 L23.7656,29.2969 C23.3125,29.2969 23.2031,29.3125 23.0469,29.4219 C22.7969,29.5781 22.6406,29.8594 22.6406,30.1563 C22.6406,30.4063 22.7656,30.6719 23,30.8281 C23.125,30.9531 23.375,31 23.7656,31 L25.9688,31 C26.3125,31 26.5625,30.9531 26.6875,30.875 C26.9375,30.7188 27.0938,30.4375 27.0938,30.1563 C27.0938,29.6094 26.7188,29.2969 26.0469,29.2969 L26.0469,22.7813 C26.6094,22.7344 26.9375,22.4375 26.9375,21.9375 C26.9375,21.6719 26.7969,21.4063 26.5938,21.2344 C26.4219,21.125 26.2813,21.0938 25.8125,21.0938 L23.9531,21.0938 L21.6563,26.1406 L19.3125,21.0938 L17.4531,21.0938 C17.4375,21.0781 17.4219,21.0781 17.3906,21.0781 C17.1875,21.0781 16.8281,21.1406 16.7344,21.1875 C16.4844,21.3594 16.3281,21.6563 16.3281,21.9219 C16.3281,22.4375 16.6563,22.7344 17.2188,22.7813 L17.2188,29.2969 C16.5469,29.2969 16.1719,29.6094 16.1719,30.1563 C16.1719,30.4219 16.3125,30.6719 16.5313,30.8281 C16.6875,30.9531 16.9063,31 17.3125,31 L19.5156,31 C19.8438,31 20.1094,30.9531 20.2188,30.875 C20.4844,30.7188 20.625,30.4375 20.625,30.1563 C20.625,29.875 20.5156,29.625 20.2969,29.4531 C20.1094,29.3281 19.9688,29.2969 19.5156,29.2969 L18.9063,29.2969 L18.9063,24.3906 Z " fill="#000000"/><text fill="#3B0018" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="36" y="30.1543">List</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="119" x="64" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="117" x="65" y="19.1387">? super WhiteHorse</text><!--MD5=[b4761fb272ab9bd816d8e08fb4d06bb8]
link WhiteHorse to Horse--><path codeLine="21" d="M93.5,42.025 C93.5,42.025 93.5,81.85 93.5,81.85 " fill="none" id="WhiteHorse-to-Horse" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="100.5001,81.85,93.5,101.85,86.5001,81.85,100.5001,81.85" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[8ce3136e4592d0a072bdbfb430254f52]
link Horse to Object--><path codeLine="22" d="M93.5,134.0252 C93.5,134.0252 93.5,173.8498 93.5,173.8498 " fill="none" id="Horse-to-Object" style="stroke:#FF0066;stroke-width:1.0;"/><polygon fill="none" points="100.5001,173.8498,93.5,193.8498,86.5001,173.8497,100.5001,173.8498" style="stroke:#FF0066;stroke-width:1.0;"/><!--MD5=[0c4b7d767701e1ea0be0cc2fa876a1df]
@startuml
!define entity(x, desc) class "desc" as x << (M,#ffebf3)  >>

'left to right direction
skinparam classFontColor #3b0018
skinparam classArrowColor #ff0066
skinparam classBorderColor #ff0066
skinparam classBackgroundColor ##f6f4ee
skinparam shadowing false
'skinparam linetype polyline
skinparam linetype ortho


hide methods
hide stereotypes
hide field

entity(Object, 'List<Object>')
entity(Horse, 'List<Horse>')
entity(WhiteHorse, 'List<? super WhiteHorse>')

WhiteHorse - -|> Horse
Horse - -|> Object
@enduml

@startuml

skinparam classFontColor #3b0018
skinparam classArrowColor #ff0066
skinparam classBorderColor #ff0066
skinparam classBackgroundColor ##f6f4ee
skinparam shadowing false
skinparam linetype ortho


hide methods
hide stereotypes
hide field

class "List<Object>" as Object << (M,#ffebf3)  >>
class "List<Horse>" as Horse << (M,#ffebf3)  >>
class "List<? super WhiteHorse>" as WhiteHorse << (M,#ffebf3)  >>

WhiteHorse - -|> Horse
Horse - -|> Object
@enduml

PlantUML version 1.2021.16beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>


<h2 id="回顾白马非马"><a href="#回顾白马非马" class="headerlink" title="回顾白马非马"></a>回顾白马非马</h2><p>在公孙龙的辩论中，他的论点为，如果你要求得到’马’，黄马、黑马都可以满足要求；如果要求得到白马，黄马、黑马就不能满足要求了。假如白马就是马，那么要求得到马与要求得到白马便完全一样了，这就表明白马与马不一样，所以白马非马。</p>
<p>他正是站在了协变不能消费对象的角度，表达了白马非马的观点。</p>
<h2 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h2><ul>
<li><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC/464">白马非马</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8D%8F%E5%8F%98%E4%B8%8E%E9%80%86%E5%8F%98">协变与逆变</a></li>
<li><a target="_blank" rel="noopener" href="https://www.kotlincn.net/docs/reference/generics.html">kotlin 中的泛型</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:chenlingmin.com@gmail.com">黑牛</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://chenlingmin.github.io/2019/11/03/%E4%BB%8E%E2%80%9C%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC%E2%80%9D%E5%88%B0%E2%80%9C%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8F%98%E2%80%9D/">https://chenlingmin.github.io/2019/11/03/%E4%BB%8E%E2%80%9C%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC%E2%80%9D%E5%88%B0%E2%80%9C%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8F%98%E2%80%9D/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://chenlingmin.github.io" target="_blank">黑牛随笔</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%80%9D%E8%80%83/">思考</a><a class="post-meta__tags" href="/tags/%E6%B3%9B%E5%9E%8B/">泛型</a><a class="post-meta__tags" href="/tags/java/">java</a><a class="post-meta__tags" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2021/12/07/%E6%9E%9A%E4%B8%BE%E7%9A%84%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/"><img class="prev-cover" src="https://dongxiawu.github.io/2018/05/16/Java%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E5%8E%9F%E7%90%86/Java%E6%9E%9A%E4%B8%BE.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">关于枚举的高级用法</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/8233283" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">黑牛</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/chenlingmin"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E6%AE%B5%E5%93%B2%E5%AD%A6%E8%BE%A9%E8%AE%BA"><span class="toc-number">1.</span> <span class="toc-text">一段哲学辩论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E5%8F%98%E4%B8%8E%E9%80%86%E5%8F%98"><span class="toc-number">2.</span> <span class="toc-text">协变与逆变</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#extends-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">2.1.</span> <span class="toc-text">extends 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%86%E5%8F%98%E4%B8%8E-super-%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%9B%9E%E9%A1%BE"><span class="toc-number">2.2.</span> <span class="toc-text">逆变与 super 关键字的回顾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BE%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC"><span class="toc-number">3.</span> <span class="toc-text">回顾白马非马</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB"><span class="toc-number">4.</span> <span class="toc-text">扩展阅读</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/02/25/%E5%86%99%E8%AF%97%E6%9C%89%E6%84%9F/" title="写诗有感"><img src="https://n.sinaimg.cn/translate/450/w765h485/20180801/mEs3-hhacrcf0497861.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="写诗有感"/></a><div class="content"><a class="title" href="/2022/02/25/%E5%86%99%E8%AF%97%E6%9C%89%E6%84%9F/" title="写诗有感">写诗有感</a><time datetime="2022-02-25T01:44:55.000Z" title="发表于 2022-02-25 09:44:55">2022-02-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/08/%E8%A1%A8%E6%A0%BC%E9%A9%B1%E5%8A%A8%E6%B3%95%E4%BC%98%E5%8C%96ifelse/" title="表格驱动法优化ifelse"><img src="https://upload-images.jianshu.io/upload_images/999401-a0c39ea8d629f1d7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="表格驱动法优化ifelse"/></a><div class="content"><a class="title" href="/2021/12/08/%E8%A1%A8%E6%A0%BC%E9%A9%B1%E5%8A%A8%E6%B3%95%E4%BC%98%E5%8C%96ifelse/" title="表格驱动法优化ifelse">表格驱动法优化ifelse</a><time datetime="2021-12-08T02:44:55.000Z" title="发表于 2021-12-08 10:44:55">2021-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/07/%E4%B8%BAMybatis%E6%8F%90%E4%BE%9Bspring-data%E4%B8%80%E8%87%B4%E7%9A%84%E5%88%86%E9%A1%B5API/" title="为Mybatis提供spring-data一致的分页API"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="为Mybatis提供spring-data一致的分页API"/></a><div class="content"><a class="title" href="/2021/12/07/%E4%B8%BAMybatis%E6%8F%90%E4%BE%9Bspring-data%E4%B8%80%E8%87%B4%E7%9A%84%E5%88%86%E9%A1%B5API/" title="为Mybatis提供spring-data一致的分页API">为Mybatis提供spring-data一致的分页API</a><time datetime="2021-12-07T08:44:55.000Z" title="发表于 2021-12-07 16:44:55">2021-12-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/07/%E6%9E%9A%E4%B8%BE%E7%9A%84%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" title="关于枚举的高级用法"><img src="https://dongxiawu.github.io/2018/05/16/Java%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E5%8E%9F%E7%90%86/Java%E6%9E%9A%E4%B8%BE.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="关于枚举的高级用法"/></a><div class="content"><a class="title" href="/2021/12/07/%E6%9E%9A%E4%B8%BE%E7%9A%84%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" title="关于枚举的高级用法">关于枚举的高级用法</a><time datetime="2021-12-07T08:34:55.000Z" title="发表于 2021-12-07 16:34:55">2021-12-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/11/03/%E4%BB%8E%E2%80%9C%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC%E2%80%9D%E5%88%B0%E2%80%9C%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8F%98%E2%80%9D/" title="从“白马非马”到“协变、逆变”"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从“白马非马”到“协变、逆变”"/></a><div class="content"><a class="title" href="/2019/11/03/%E4%BB%8E%E2%80%9C%E7%99%BD%E9%A9%AC%E9%9D%9E%E9%A9%AC%E2%80%9D%E5%88%B0%E2%80%9C%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8F%98%E2%80%9D/" title="从“白马非马”到“协变、逆变”">从“白马非马”到“协变、逆变”</a><time datetime="2019-11-03T04:44:55.000Z" title="发表于 2019-11-03 12:44:55">2019-11-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 黑牛</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>